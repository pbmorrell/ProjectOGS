function GlobalStartupActions(){"function"==typeof OnViewportSizeChanged&&$(window).resize(function(){var a=$(window).width(),b=$(window).height(),c=GetCurHeightClass(),d=GetCurWidthClass();OnViewportSizeChanged(a,b,lastWidthClass,d,lastHeightClass,c),lastHeightClass=c,lastWidthClass=d}),$("#accordion").length&&$("#accordion").accordion({header:"h3",collapsible:!0,heightStyle:content,navigation:!0}),displayHiddenAdsByBrowsingDevice(),$("#login").length&&($("#loginBtn").click(function(){return $("#loginErr").attr("class","preLogin"),$("#loginErr").html("Logging In..."),$("#loginErr").fadeIn(200),$.ajax({type:"POST",url:"AJAXHandler.php",data:"action=Login&"+$("#loginForm").serialize(),success:function(a){"true"===a?window.location.href="MemberHome.php":($("#loginErr").attr("class","loginError"),$("#loginErr").html(a),$("#loginPassword").val(""),setTimeout(function(){$("#loginErr").hide()},3e3))}}),!1}),$("#signupBtnLoginForm").click(function(){window.location.href="index.php?action=Signup"}));var a=GetCurWidthClass(),b=GetCurHeightClass(),c="top",d=600,e=350;"mobile"==a&&(d=400,c="top+10%"),"xtraSmall"==a&&(d=275,c="top+10%"),("mobile"==b||"xtraSmall"==b)&&(e=375),$("#forgotPasswordLink").length&&$("#forgotPasswordLink").click(function(){return displayJQueryDialog("dlgPasswordRecovery","Forgot Password","top",c,window,!1,!0,"AJAXHandler.php?action=PasswordRecoveryDialogLoad",function(){PasswordRecoveryDialogOnReady($("#dlgPasswordRecovery").dialog())},d,e),!1}),$("#forgotPasswordLinkMobile").length&&$("#forgotPasswordLinkMobile").click(function(){return displayJQueryDialog("dlgPasswordRecovery","Forgot Password","top",c,window,!1,!0,"AJAXHandler.php?action=PasswordRecoveryDialogLoad",function(){PasswordRecoveryDialogOnReady($("#dlgPasswordRecovery").dialog())},d,e),!1})}function PasswordRecoveryDialogOnReady(a){$("#sendRecoveryEmailBtn").click(function(){var b=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,c=$("#recoverByUserName").val(),d=$("#recoverByEmail").val();if(0===c.trim().length&&0===d.trim().length)sweetAlert("Oops...","You must enter either a user ID or email address, so we can look up your account","error");else if(0===c.trim().length&&b.test(d)===!1)sweetAlert("Oops...","Please enter a valid email address","error");else{var e="userName="+c.trim()+"&email="+d.trim();0===c.trim().length?e="email="+d.trim():0===d.trim().length&&(e="userName="+c.trim()),$.ajax({type:"POST",url:"AJAXHandler.php",data:"action=SendPasswordRecoveryEmailToUser&"+e,success:function(b){"true"===b?(sweetAlert("Email Sent","Check your inbox, and follow the instructions in the email we sent you to reset your password.","info"),a.dialog("destroy").remove()):sweetAlert("Oops...",b,"error")}})}return!1}),$("#cancelBtn").click(function(){return a.dialog("destroy").remove(),!1})}function GetCurWidthClass(){var a="desktop";return window.matchMedia("(max-width: 400px)").matches?a="xtraSmall":window.matchMedia("(min-width: 401px) and (max-width: 675px)").matches&&(a="mobile"),a}function GetCurHeightClass(){var a="desktop";return window.matchMedia("(max-height: 400px)").matches?a="xtraSmall":window.matchMedia("(min-height: 401px) and (max-height: 675px)").matches&&(a="mobile"),a}function GetURLParamVal(a){var b={};if(location.search)for(var c=location.search.substring(1).split("&"),d=0;d<c.length;d++){var e=c[d].split("=");e&&(b[e[0]]=e[1]||!0)}return void 0==b[a]?"":b[a]}function _(a){return document.getElementById(a)}function StringPadLeft(a,b,c){var d=a;for(i=0;i<c-a.length;i++)d=b+d;return d}function addDaysToDate(a,b){var c=new Date(a);return c.setDate(c.getDate()+b),c}function togglePasswordField(a,b,c,d,e,f,g){var h=$(b),i="password";"Show Text"===$(a).html()?(i="text",$(a).html("Hide Text")):$(a).html("Show Text");var j="";g&&(j="' data-display='"+g);var k=$("<input type='"+i+"' maxlength='50' placeholder='"+e+j+"' />").attr("id",$(b).attr("id")).attr("class",$(b).attr("class")).val($(b).val()).insertBefore($(b));return h.remove(),h=k,f?h.keyup(function(){evaluateCurrentPWConfirmVal(c,d,"#passwordMatch",a)}):(h.pStrength({changeBackground:!1,onPasswordStrengthChanged:function(a,b){evaluateCurrentPWStrength(c,"#passwordStrength",a,b)}}),h.keyup(function(){evaluateCurrentPWVal(c,d,"#passwordMatch",a)})),!1}function evaluateCurrentPWStrength(a,b,c,d){var e=$(a).val();0===e.length?($.fn.pStrength("resetStyle",$(a)),$(b).html("")):($.fn.pStrength("changeBackground",$(a),c),33>d?$(b).html("Very Weak"):d>=33&&50>d?$(b).html("Weak"):d>=50&&66>d?$(b).html("Fair"):d>=66&&80>d?$(b).html("Good"):d>=80&&90>d?$(b).html("Strong"):$(b).html("Unbreakable!"))}function evaluateCurrentPWVal(a,b,c,d){var e=$(a).val(),f=$(b).val();return 0===e.length?($(c).attr("src","images/green_checkmark.gif"),$(c).attr("title","Passwords match"),$(c).hide(),$(d).hide()):e!==f?($(c).attr("src","images/red_x.png"),$(c).attr("title","Passwords do not match"),$(c).show(),$(d).show()):($(c).attr("src","images/green_checkmark.gif"),$(c).attr("title","Passwords match"),$(c).show(),$(d).show()),!0}function evaluateCurrentPWConfirmVal(a,b,c,d){var e=$(a).val(),f=$(b).val();0===f.length&&0===e.length?($(d).hide(),$(c).attr("src","images/green_checkmark.gif"),$(c).attr("title","Passwords match"),$(c).hide()):f!==e?($(c).attr("src","images/red_x.png"),$(c).attr("title","Passwords do not match"),$(d).show()):($(c).attr("src","images/green_checkmark.gif"),$(c).attr("title","Passwords match"),$(c).show(),$(d).show())}function DeferFullAccountCreation(){var a=confirm("Skipping this stage will default your username to your email address. Proceed?");return a?void $.ajax({type:"POST",url:"AJAXHandler.php",data:"action=UpdateUsername",success:function(a){return"true"===a?!0:void alert("SYSTEM ERROR:\n"+a)}}):!1}function evaluateUserNameAvailability(a,b,c){return!$(a).is("[readonly]")&&$(a).val().trim().length>0?$.ajax({type:"POST",url:c,data:"action=CheckUsernameAvailability&userName="+$(a).val(),success:function(a){"avail"===a?($(b).attr("class","usernameStatusAvail"),$(b).html("Username Available!")):($(b).attr("class","usernameStatusTaken"),$(b).html("Username Already Taken"))}}):$(b).html("&nbsp;"),!1}function displayHiddenAdsByBrowsingDevice(){isMobileView()||($(".mobileAdStyle").attr("class","hiddenMobileAds"),$(".hiddenDesktopAds").attr("class","desktopAdStyle"))}function displayJQueryDialog(a,b,c,d,e,f,g,h,i,j,k){var l=j||600,m=k||700,n=$('<div id="'+a+'"></div>').load(h,i).dialog({autoOpen:f,title:b,width:l,height:m,modal:g,dialogClass:"customDialogStyle",close:function(a,b){n.dialog("destroy").remove()}});n.dialog("option","position",{my:c,at:d,of:e}),n.dialog("open")}function displayJQueryDialogFromDiv(a,b,c,d,e,f,g,h,i,j){var k=GetCurWidthClass(),l="top",m=600;"mobile"==k&&(m=400,l="top+10%"),"xtraSmall"==k&&(m=275,l="top+10%");var n=g||700,o=j;j||(o=[]);var p=$(a).dialog({autoOpen:e,title:b,width:m,height:n,modal:f,dialogClass:"customDialogStyle",open:i?function(){i(o)}:function(){},close:function(a,b){h?p.dialog("destroy").remove():p.dialog("close")}});p.dialog("option","position",{my:c,at:l,of:d}),p.dialog("open")}function PrepareAutocompleteComboBox(a){$.widget("custom.combobox",{_create:function(){this.wrapper=$("<span>").addClass("custom-combobox").insertAfter(this.element),this.element.hide(),this._createAutocomplete(),this._createShowAllButton()},_createAutocomplete:function(){var b=this.element.children(":selected"),c=b.val()?b.text():"";this.input=$("<input id='"+a+"'>").appendTo(this.wrapper).val(c).attr("title","").addClass("custom-combobox-input ui-widget ui-widget-content ui-state-default ui-corner-left").autocomplete({delay:0,minLength:0,source:$.proxy(this,"_source")}).tooltip({tooltipClass:"ui-state-highlight"}),this._on(this.input,{autocompleteselect:function(a,b){b.item.option.selected=!0,this._trigger("select",a,{item:b.item.option})},autocompletechange:"_updateUnderlyingElementVal"})},_createShowAllButton:function(){var a=this.input,b=!1;$("<a>").attr("tabIndex",-1).attr("title","Show All Items").tooltip().appendTo(this.wrapper).button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("custom-combobox-toggle ui-corner-right").mousedown(function(){b=a.autocomplete("widget").is(":visible")}).click(function(){a.focus(),b||a.autocomplete("search","")})},_source:function(a,b){var c=new RegExp($.ui.autocomplete.escapeRegex(a.term),"i");b(this.element.children("option").map(function(){var b=$(this).text(),d=$(this).attr("class");return!this.value||a.term&&!c.test(b)?void 0:{label:b,value:b,option:this,cName:d}}))},_updateUnderlyingElementVal:function(a,b){if(!b.item){var c=this.input.val(),d=c.toLowerCase(),e=!1;this.element.children("option").each(function(){return $(this).text().toLowerCase()===d?(this.selected=e=!0,!1):void 0}),e||(this.element.val(""),this.input.autocomplete("instance").term="")}},_destroy:function(){this.wrapper.remove(),this.element.show()}}),$.extend($.ui.autocomplete.prototype,{_renderItem:function(a,b){return $("<li class='"+b.cName+"'></li>").data("item.autocomplete",b).append($("<a></a>").text(b.label)).appendTo(a)}})}function isMobileView(){return window.matchMedia("(max-width: 650px)").matches}function isMobileViewHeight(){return window.matchMedia("(max-height: 700px)").matches}function CombineTableColumns(a,b,c,d){if(a&&!(a.length<2)){var e=$(c).children(".jtable-main-container").children(".jtable"),f=$(e).find('th:contains("'+a[0]+'")').eq(0).index();$(e).children("tbody").children("tr").each(function(){var c=$(this).children("td").eq(f),g=$(c).text();$(c).addClass("multiLineTableColumn");for(var h=1;h<a.length;h++){var i=$(e).find('th:contains("'+a[h]+'")').eq(0).index(),j="\n";b[a[h]]&&(j+="\n");var k=$(this).children("td").eq(i),l=j+$(k).text();if(g+=l,$(k).addClass(d),1===h){var m=$(e).find('th:contains("'+a[h]+'")').eq(0);$(m).addClass(d)}}c.text(g)})}}function ExpandTableColumn(a,b,c,d){if(b&&!(b.length<1)){var e=$(c).children(".jtable-main-container").children(".fixedWidthScrollableContainer").children(".jtable"),f=$(e).find('th:contains("'+a+'")').eq(0).index();$(e).children("tbody").children("tr").each(function(){var a=$(this).children("td").eq(f),c=$(a).text();c=c.split("\n")[0],$(a).text(c),$(a).removeClass("multiLineTableColumn");for(var g=0;g<b.length;g++){var h=$(e).find('th:contains("'+b[g]+'")').eq(0).index(),i=$(this).children("td").eq(h);$(i).removeClass(d)}})}}function SaveCurrentJTableContentsToClipboard(a,b,c){var d="&#13;&#10;",e=c,f=$(a+' th:contains("Tag Name")').index(),g=$(a+' th:contains("Platform")').index();$(a+" .fixedHeightScrollableContainerJumbo").children(".jtable").find("tbody tr").each(function(){var a=$(this).find("td").eq(f).text(),b=$(this).find("td").eq(g).text(),c=d+d+"Tag Name:  "+a+d+"Platform Name: "+b;e+=c});var h='<div><textarea class="autoSelectTextArea">'+e+"</textarea></div>";displayJQueryDialogFromDiv(h,b,"top",window,!1,!1,"auto",!0,SelectAllTextInTextArea)}function SelectAllTextInTextArea(a){$(".autoSelectTextArea").each(function(){function b(){return a.off("mouseup",b),!1}var a=$(this);a.select(),window.setTimeout(function(){a.select()},1),a.mouseup(b)})}function DonateOnClick(){return!0}function OpenUserDetailsPopup(a,b){var c=GetCurWidthClass(),e=(GetCurHeightClass(),"top"),f=600,g=475;"mobile"==c&&(f=400,e="top+10%"),"xtraSmall"==c&&(f=275,e="top+10%"),displayJQueryDialog("dlgUserNameDetails"+a,"USER PROFILE: "+b,"top",e,window,!1,!1,"AJAXHandler.php?action=ShowUserProfileDetails&userId="+a,function(){},f,g)}var lastHeightClass="",lastWidthClass="";