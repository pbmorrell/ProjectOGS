function OpenGamerTagViewer(a,b,c,d,e,f,g){gamerTagManagerDlg=a,gamerTagManagerJTableDiv=b,thisDialogTitle=c,thisGamerTagTableTitle=d,isReadOnlyMode=e,userId=g,destroyThisDialogOnClose=f;var h='<p style="font-weight: bold;"><i class="fa fa-gamepad"></i> &nbsp; Add, update, or delete gamer tags tied to your user ID</p>';isReadOnlyMode&&(h='<p style="font-weight: bold;">'+d+"</p>");var i='<div id="'+gamerTagManagerDlg+'"><div class="box style3 paddingOverride">'+h+'<div id="'+gamerTagManagerJTableDiv+'" class="jTableContainer"></div><br /><div id="gamerTagDialogToolbar" style="text-align: center;"><button class="gamerTagManagerBtn icon fa-close" id="cancelBtn">Close</button></div></div></div>';$("#"+gamerTagManagerDlg).length&&$("#"+gamerTagManagerDlg+" .jtable").length?$("#"+gamerTagManagerDlg).dialog("open"):(displayJQueryDialogFromDiv(i,thisDialogTitle,"top",window,!1,!0,"auto",destroyThisDialogOnClose),GamerTagManagerDialogOnReady($("#"+gamerTagManagerDlg).dialog(),"xtraSmall"==GetCurWidthClass()))}function GamerTagManagerDialogOnReady(a,b){var c={listAction:"AJAXHandler.php?action=GetCurrentGamerTagsForUser&userID="+userId,createAction:"AJAXHandler.php?action=AddGamerTagForUser",updateAction:"AJAXHandler.php?action=UpdateGamerTagsForUser",deleteAction:"AJAXHandler.php?action=DeleteGamerTagsForUser"},d={listAction:"AJAXHandler.php?action=GetCurrentGamerTagsForUser&userID="+userId};$("#"+gamerTagManagerJTableDiv).jtable({title:isReadOnlyMode?"Tag List":thisGamerTagTableTitle,paging:!0,pageSize:10,pageSizes:[5,10,15,20,25],pageSizeChangeArea:!0,gotoPageArea:"none",pageList:b?"minimal":"normal",sorting:!0,defaultSorting:"GamerTagName ASC",openChildAsAccordion:!1,actions:isReadOnlyMode?d:c,toolbar:{items:[{icon:"images/saveToClipboard.png",text:"Copy to Clipboard",click:function(){return SaveCurrentJTableContentsToClipboard("#"+gamerTagManagerJTableDiv,"Press Ctrl + C to copy to clipboard",thisGamerTagTableTitle)}}]},fields:{ID:{key:!0,list:!1},GamerTagName:{title:"Tag Name",width:"65%",sorting:!0},PlatformName:{title:"Platform",width:"35%",display:function(a){return $.isNumeric(a.record.PlatformName)?FindPlatformNameByID(a.record.PlatformName):a.record.PlatformName},input:function(a){var b='<select id="ddlPlatforms" name="PlatformName"><option value="-1">DB error: could not load consoles</option></select>';return cachedPlatformList||$.ajax({type:"POST",url:"AJAXHandler.php",data:"action=GetPlatformDropdownListForEditor&selectorFieldName=PlatformName",async:!1,success:function(a){"ERROR"!=a&&(cachedPlatformList=a)},error:function(){return b}}),ConstructPlatformOptionList(a)},sorting:!0}},recordsLoaded:function(a,b){$("#"+gamerTagManagerJTableDiv+" .jtable-main-container").children(".jtable").wrap('<div class="fixedHeightScrollableContainerJumbo"></div>'),isMobileView()&&$("#"+gamerTagManagerJTableDiv+" .jtable-page-size-change").hide()}}),$("#"+gamerTagManagerJTableDiv).jtable("load"),$("#cancelBtn").click(function(){return destroyThisDialogOnClose?a.dialog("destroy").remove():a.dialog("close"),!1})}function ConstructPlatformOptionList(a){var b=cachedPlatformList;if("edit"==a.formType){var c=a.record.PlatformID,d=cachedPlatformList.indexOf("<option value='"+c+"'");d>=0&&(b=cachedPlatformList.replace("<option value='"+c+"'","<option value='"+c+"' selected='true'"))}return b}function FindPlatformNameByID(a){var b=a;if(cachedPlatformList){var c=cachedPlatformList.indexOf("value='"+a+"'");if(c>=0){var d=cachedPlatformList.indexOf(">",c)+1,e=cachedPlatformList.indexOf("</option>",d);b=cachedPlatformList.substring(d,e)}}return b}var gamerTagManagerDlg="gamerTagManagerDlg",gamerTagManagerJTableDiv="#manageGamerTagsDiv",thisDialogTitle="Gamer Tag Management",thisGamerTagTableTitle="Your Gamer Tags",isReadOnlyMode=!1,destroyThisDialogOnClose=!1,userId=-1,cachedPlatformList=void 0;